<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Espresso World Map</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-7Ih0jWzVt6jZ7b5bqz4wz5wR9V5z9zvZ9z9z9z9z9z9z9z9z9z9z9z9z9z9z" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: url('https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?q=80&w=1920&auto=format&fit=crop') center/cover no-repeat fixed;
            color: #e0c8a9;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
            position: relative;
        }
        
        body:before {
            content: '';
            position: fixed;
            inset: 0;
            background: radial-gradient(ellipse at center, rgba(0,0,0,0.25) 0%, rgba(0,0,0,0.6) 100%);
            pointer-events: none;
            z-index: 0;
        }
        
        .container { z-index: 1; max-width: 1200px; width: 100%; display: flex; flex-direction: column; align-items: center; }
        
        header { text-align: center; margin-bottom: 18px; width: 100%; }
        
        h1 { font-size: 2.6rem; margin-bottom: 10px; color: #e0c8a9; text-shadow: 0 0 10px rgba(224, 200, 169, 0.5); letter-spacing: 2px; }
        .subtitle { font-size: 1.1rem; color: #b89f7e; max-width: 700px; margin: 0 auto 12px; }
        
        .top-menu {
            position: fixed;
            right: 20px;
            top: 20px;
            background: linear-gradient(135deg, #ffffff 0%, #f5efe7 70%);
            border: 1px solid #c9b29b;
            box-shadow: 0 8px 24px rgba(0,0,0,0.3);
            border-radius: 12px;
            padding: 12px 14px;
            display: flex;
            gap: 10px;
            align-items: center;
            z-index: 3;
        }
        .top-menu .title { color: #6b4a2d; font-weight: 600; margin-right: 6px; }
        .top-menu select { background: #fff; border: 1px solid #c9b29b; color: #6b4a2d; border-radius: 8px; padding: 8px 10px; min-width: 220px; outline: none; }
        .top-menu .badge { background: #6b4a2d; color: #fff; border-radius: 16px; padding: 4px 8px; font-size: 0.75rem; margin-left: 4px; }
        .top-menu .badge.past { background:#b58257; }
        
        .map-container { width: 100%; height: 560px; background: rgba(20,15,15,0.55); border-radius: 12px; position: relative; overflow: hidden; border: 1px solid #3a2c2c; box-shadow: 0 12px 40px rgba(0,0,0,0.5); }
        .map-surface { position: absolute; inset: 0; background: #1a1a1a; }
        .map-image { position: absolute; left: 0; top: 0; width: 100%; height: 100%; background-image: url('https://upload.wikimedia.org/wikipedia/commons/8/80/World_map_-_low_resolution.svg'); background-size: cover; background-position: center; filter: contrast(1.05) saturate(0.95) brightness(0.95); }
        .map-brand { position: absolute; left: 14px; bottom: 12px; display: flex; align-items: center; gap: 8px; background: rgba(0,0,0,0.3); padding: 6px 10px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.08); z-index: 2; }
        .map-brand img { width: 28px; height: 28px; border-radius: 50%; object-fit: cover; }
        .map-brand span { color: #e0c8a9; font-weight: 600; letter-spacing: 0.5px; }
        
        .marker { position: absolute; width: 20px; height: 20px; transform: translate(-50%, -100%); z-index: 2; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5)); pointer-events: none; }
        .marker .cup { color: #eae5dd; font-size: 18px; }
        .marker.upcoming .cup { color: #ffffff; }
        .marker.past .cup { color: #d6c7b8; opacity: 0.9; }
        
        .magnifier { position: absolute; width: 140px; height: 140px; border-radius: 50%; box-shadow: 0 0 0 6px rgba(255,255,255,0.85), inset 0 0 20px rgba(0,0,0,0.35), 0 8px 20px rgba(0,0,0,0.4); overflow: hidden; z-index: 3; transform: translate(-50%, -50%); transition: transform 0.25s ease; }
        .magnifier .glass { position: absolute; inset: 0; background-image: url('https://upload.wikimedia.org/wikipedia/commons/8/80/World_map_-_low_resolution.svg'); background-size: cover; background-position: center; filter: saturate(1.05) brightness(1.1); transform: scale(1.6); }
        .hand { position: absolute; width: 180px; right: -40px; bottom: -20px; z-index: 2; opacity: 0.9; pointer-events: none; }
        .hand img { width: 100%; height: auto; filter: drop-shadow(0 6px 10px rgba(0,0,0,0.5)); }
        
        .events-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; width: 100%; margin-top: 24px; margin-bottom: 40px; }
        .event-card { background: rgba(20, 15, 15, 0.6); border-radius: 10px; padding: 20px; border: 1px solid #3a2c2c; transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .event-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3); border-color: #b89f7e; }
        .event-card.upcoming { border-left: 4px solid #e0c8a9; }
        .event-card.past { border-left: 4px solid #7e6559; }
        .event-location { font-size: 1.3rem; color: #e0c8a9; margin-bottom: 10px; display: flex; align-items: center; gap: 10px; }
        .event-date { color: #b89f7e; margin-bottom: 15px; font-style: italic; }
        .event-desc { color: #d0b899; line-height: 1.5; }
        
        footer { text-align: center; margin-top: auto; padding: 20px; color: #7e6559; width: 100%; }
        
        @media (max-width: 768px) {
            h1 { font-size: 2.2rem; }
            .map-container { height: 420px; }
            .magnifier { width: 120px; height: 120px; }
            .hand { width: 150px; right: -30px; bottom: -16px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Espresso World Map</h1>
            <p class="subtitle">Pick a destination from the menus — watch the magnifier find it.</p>
        </header>

        <div class="top-menu">
            <span class="title"><i class="fas fa-mug-hot"></i> Events</span>
            <div>
                <label for="futureSelect" class="sr-only">Future</label>
                <select id="futureSelect">
                    <option value="">Future events...</option>
                </select>
                <span class="badge">Future</span>
            </div>
            <div>
                <label for="pastSelect" class="sr-only">Past</label>
                <select id="pastSelect">
                    <option value="">Past events...</option>
                </select>
                <span class="badge past">Past</span>
            </div>
        </div>

        <div class="map-container" id="map">
            <div class="map-surface">
                <div class="map-image" id="mapImage"></div>
                <div class="magnifier" id="magnifier">
                    <div class="glass" id="magnifierGlass"></div>
                    <div class="hand"><img src="https://cdn-icons-png.flaticon.com/512/4360/4360154.png" alt="hand holding"></div>
                </div>
                <div class="map-brand"><img src="espresso.png" alt="Espresso logo"><span>Espresso</span></div>
            </div>
        </div>

        <div class="events-list">
            <div class="event-card upcoming">
                <h3 class="event-location"><span class="pulse-effect"></span><i class="fas fa-flag"></i> Seoul, South Korea</h3>
                <p class="event-date">October 2023</p>
                <p class="event-desc">Join us for an exciting event in the heart of Seoul, where we'll explore the latest trends in technology and innovation.</p>
                <span class="event-type">Upcoming</span>
            </div>
            
            <div class="event-card upcoming">
                <h3 class="event-location"><span class="pulse-effect"></span><i class="fas fa-flag"></i> Buenos Aires, Argentina</h3>
                <p class="event-date">November 2023</p>
                <p class="event-desc">Experience the vibrant culture of Buenos Aires while networking with industry leaders and innovators.</p>
                <span class="event-type">Upcoming</span>
            </div>
            
            <div class="event-card past">
                <h3 class="event-location"><i class="fas fa-flag"></i> Denver, USA</h3>
                <p class="event-date">June 2022</p>
                <p class="event-desc">Our mountain-high event in Denver brought together thought leaders from across the industry.</p>
                <span class="event-type">Past Event</span>
            </div>
            
            <div class="event-card past">
                <h3 class="event-location"><i class="fas fa-flag"></i> Berlin, Germany</h3>
                <p class="event-date">May 2022</p>
                <p class="event-desc">An unforgettable event in Europe's startup capital, focusing on innovation and collaboration.</p>
                <span class="event-type">Past Event</span>
            </div>
            
            <div class="event-card past">
                <h3 class="event-location"><i class="fas fa-flag"></i> San Francisco, USA</h3>
                <p class="event-date">April 2022</p>
                <p class="event-desc">Our tech-focused event in the heart of Silicon Valley explored the future of digital innovation.</p>
                <span class="event-type">Past Event</span>
            </div>
            
            <div class="event-card past">
                <h3 class="event-location"><i class="fas fa-flag"></i> New York, USA</h3>
                <p class="event-date">March 2022</p>
                <p class="event-desc">The New York event brought together finance and technology leaders for groundbreaking discussions.</p>
                <span class="event-type">Past Event</span>
            </div>
            
            <div class="event-card past">
                <h3 class="event-location"><i class="fas fa-flag"></i> Cannes, France</h3>
                <p class="event-date">February 2022</p>
                <p class="event-desc">We hosted a special event during the famous festival season in the French Riviera.</p>
                <span class="event-type">Past Event</span>
            </div>
            
            <div class="event-card past">
                <h3 class="event-location"><i class="fas fa-flag"></i> Bangkok, Thailand</h3>
                <p class="event-date">January 2022</p>
                <p class="event-desc">Our Southeast Asia event showcased emerging technologies in one of the region's most vibrant cities.</p>
                <span class="event-type">Past Event</span>
            </div>
            
            <div class="event-card past">
                <h3 class="event-location"><i class="fas fa-flag"></i> Brussels, Belgium</h3>
                <p class="event-date">December 2021</p>
                <p class="event-desc">Our European capital event focused on policy and technology intersections.</p>
                <span class="event-type">Past Event</span>
            </div>
        </div>
    </div>
    
    <footer>
        <p>Espresso World Map | Interactive Event Tracker</p>
    </footer>

    <script>
        // Event data with coordinates
        const events = [
            { name: 'Seoul, South Korea', lat: 37.5665, lng: 126.9780, type: 'upcoming', date: 'October 2023', desc: 'Join us for an exciting event in the heart of Seoul, where we\'ll explore the latest trends in technology and innovation.' },
            { name: 'Buenos Aires, Argentina', lat: -34.6037, lng: -58.3816, type: 'upcoming', date: 'November 2023', desc: 'Experience the vibrant culture of Buenos Aires while networking with industry leaders and innovators.' },
            { name: 'Denver, USA', lat: 39.7392, lng: -104.9903, type: 'past', date: 'June 2022', desc: 'Our mountain-high event in Denver brought together thought leaders from across the industry.' },
            { name: 'Berlin, Germany', lat: 52.5200, lng: 13.4050, type: 'past', date: 'May 2022', desc: 'An unforgettable event in Europe\'s startup capital, focusing on innovation and collaboration.' },
            { name: 'San Francisco, USA', lat: 37.7749, lng: -122.4194, type: 'past', date: 'April 2022', desc: 'Our tech-focused event in the heart of Silicon Valley explored the future of digital innovation.' },
            { name: 'New York, USA', lat: 40.7128, lng: -74.0060, type: 'past', date: 'March 2022', desc: 'The New York event brought together finance and technology leaders for groundbreaking discussions.' },
            { name: 'Cannes, France', lat: 43.5528, lng: 7.0174, type: 'past', date: 'February 2022', desc: 'We hosted a special event during the famous festival season in the French Riviera.' },
            { name: 'Bangkok, Thailand', lat: 13.7563, lng: 100.5018, type: 'past', date: 'January 2022', desc: 'Our Southeast Asia event showcased emerging technologies in one of the region\'s most vibrant cities.' },
            { name: 'Brussels, Belgium', lat: 50.8503, lng: 4.3517, type: 'past', date: 'December 2021', desc: 'Our European capital event focused on policy and technology intersections.' }
        ];

        const map = document.getElementById('map');
        const mapImage = document.getElementById('mapImage');
        const magnifier = document.getElementById('magnifier');
        const glass = document.getElementById('magnifierGlass');

        // Populate dropdowns
        const futureSelect = document.getElementById('futureSelect');
        const pastSelect = document.getElementById('pastSelect');
        events.filter(e => e.type === 'upcoming').forEach(e => {
            const opt = document.createElement('option');
            opt.value = `${e.lat},${e.lng}`; opt.textContent = `${e.name} — ${e.date}`; futureSelect.appendChild(opt);
        });
        events.filter(e => e.type === 'past').forEach(e => {
            const opt = document.createElement('option');
            opt.value = `${e.lat},${e.lng}`; opt.textContent = `${e.name} — ${e.date}`; pastSelect.appendChild(opt);
        });
        futureSelect.addEventListener('change', onSelect);
        pastSelect.addEventListener('change', onSelect);

        // Create markers
        const markers = [];
        function project(lat, lng) {
            const rect = map.getBoundingClientRect();
            const w = rect.width; const h = rect.height;
            const x = (lng + 180) / 360 * w;
            const y = (90 - lat) / 180 * h;
            return { x, y };
        }
        function createMarker(event) {
            const m = document.createElement('div');
            m.className = `marker ${event.type}`;
            m.innerHTML = `<span class="cup">&#9749;</span>`;
            map.appendChild(m);
            markers.push({ el: m, event });
            positionMarker(m, event.lat, event.lng);
        }
        function positionMarker(el, lat, lng) {
            const p = project(lat, lng);
            el.style.left = p.x + 'px';
            el.style.top = p.y + 'px';
        }
        events.forEach(createMarker);

        // Move magnifier to a lat/lng
        function moveMagnifierTo(lat, lng) {
            const rect = map.getBoundingClientRect();
            const w = rect.width; const h = rect.height;
            const p = project(lat, lng);
            const mx = p.x; const my = p.y;
            const duration = 800; const start = performance.now();
            const startPos = magnifier.getBoundingClientRect();
            const startX = startPos.left - rect.left + magnifier.offsetWidth/2;
            const startY = startPos.top - rect.top + magnifier.offsetHeight/2;
            function step(now) {
                const t = Math.min(1, (now - start) / duration);
                const ease = t<0.5?2*t*t:-1+(4-2*t)*t;
                const x = startX + (mx - startX) * ease;
                const y = startY + (my - startY) * ease;
                setMagnifierPosition(x, y, w, h);
                if (t < 1) requestAnimationFrame(step);
            }
            requestAnimationFrame(step);
        }
        function setMagnifierPosition(cx, cy, w, h) {
            magnifier.style.left = cx + 'px';
            magnifier.style.top = cy + 'px';
            const bx = -((cx / w) * 100) + 50;
            const by = -((cy / h) * 100) + 50;
            glass.style.backgroundPosition = `${50 - bx}% ${50 - by}%`;
        }

        // Initialize magnifier somewhere central
        setTimeout(() => {
            const rect = map.getBoundingClientRect(); setMagnifierPosition(rect.width*0.6, rect.height*0.5, rect.width, rect.height);
        }, 0);

        function onSelect(e) {
            const value = e.target.value; if (!value) return;
            const [latStr, lngStr] = value.split(',');
            const lat = parseFloat(latStr), lng = parseFloat(lngStr);
            moveMagnifierTo(lat, lng);
            const p = project(lat, lng);
            const m = document.createElement('div');
            m.style.position='absolute'; m.style.left=p.x+'px'; m.style.top=p.y+'px'; m.style.transform='translate(-50%, -50%)';
            m.style.width='14px'; m.style.height='14px'; m.style.border='2px solid #e0c8a9'; m.style.borderRadius='50%'; m.style.boxShadow='0 0 12px rgba(224,200,169,0.7)'; m.style.opacity='0.9';
            map.appendChild(m);
            setTimeout(()=>{ m.style.transition='all 0.6s ease'; m.style.opacity='0'; m.style.transform='translate(-50%, -50%) scale(2)'; }, 20);
            setTimeout(()=>{ m.remove(); }, 800);
        }

        // On resize, reposition markers and magnifier
        window.addEventListener('resize', () => {
            const rect = map.getBoundingClientRect();
            markers.forEach(({el, event}) => positionMarker(el, event.lat, event.lng));
            const mgRect = magnifier.getBoundingClientRect();
            setMagnifierPosition(mgRect.left - rect.left + mgRect.width/2, mgRect.top - rect.top + mgRect.height/2, rect.width, rect.height);
        });
    </script>
</body>
</html>
